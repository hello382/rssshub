
<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>部署 | RSSHub</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ff8549">
    <meta name="description" content="🍰 万物皆可 RSS">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#fff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <link rel="preload" href="/assets/css/0.styles.26913bf2.css" as="style"><link rel="preload" href="/assets/js/app.ec4b3f48.js" as="script"><link rel="preload" href="/assets/js/5.f8401782.js" as="script"><link rel="preload" href="/assets/js/4.9883d7c2.js" as="script"><link rel="preload" href="/assets/js/58.f42c6e90.js" as="script"><link rel="preload" href="/assets/js/6.2f8e5434.js" as="script"><link rel="prefetch" href="/assets/js/1.43351b41.js"><link rel="prefetch" href="/assets/js/10.75801979.js"><link rel="prefetch" href="/assets/js/11.afff2111.js"><link rel="prefetch" href="/assets/js/12.36eddb27.js"><link rel="prefetch" href="/assets/js/13.d26143d1.js"><link rel="prefetch" href="/assets/js/14.db9482ec.js"><link rel="prefetch" href="/assets/js/15.2d547897.js"><link rel="prefetch" href="/assets/js/16.80a5908a.js"><link rel="prefetch" href="/assets/js/17.02e6625c.js"><link rel="prefetch" href="/assets/js/18.f286ac5d.js"><link rel="prefetch" href="/assets/js/19.c78baa1a.js"><link rel="prefetch" href="/assets/js/20.f5468409.js"><link rel="prefetch" href="/assets/js/21.580016e8.js"><link rel="prefetch" href="/assets/js/22.4121fc99.js"><link rel="prefetch" href="/assets/js/23.9c0230a0.js"><link rel="prefetch" href="/assets/js/24.ff9d61f3.js"><link rel="prefetch" href="/assets/js/25.e231cbb8.js"><link rel="prefetch" href="/assets/js/26.52a6ec68.js"><link rel="prefetch" href="/assets/js/27.750b0174.js"><link rel="prefetch" href="/assets/js/28.8e5f7da1.js"><link rel="prefetch" href="/assets/js/29.1bb8997b.js"><link rel="prefetch" href="/assets/js/30.ff9e4316.js"><link rel="prefetch" href="/assets/js/31.5e513881.js"><link rel="prefetch" href="/assets/js/32.cfcb4236.js"><link rel="prefetch" href="/assets/js/33.d75f4588.js"><link rel="prefetch" href="/assets/js/34.4a71e288.js"><link rel="prefetch" href="/assets/js/35.fbf453df.js"><link rel="prefetch" href="/assets/js/36.c8b3cf6e.js"><link rel="prefetch" href="/assets/js/37.b25812b4.js"><link rel="prefetch" href="/assets/js/38.019230cd.js"><link rel="prefetch" href="/assets/js/39.9927e732.js"><link rel="prefetch" href="/assets/js/40.57579fbf.js"><link rel="prefetch" href="/assets/js/41.6858b456.js"><link rel="prefetch" href="/assets/js/42.1ae1586c.js"><link rel="prefetch" href="/assets/js/43.3116180c.js"><link rel="prefetch" href="/assets/js/44.c2d3876a.js"><link rel="prefetch" href="/assets/js/45.b5c1fe6c.js"><link rel="prefetch" href="/assets/js/46.1ef1fc43.js"><link rel="prefetch" href="/assets/js/47.6a7333e7.js"><link rel="prefetch" href="/assets/js/48.ec9dabf3.js"><link rel="prefetch" href="/assets/js/49.39a50fe5.js"><link rel="prefetch" href="/assets/js/50.2e7f53e7.js"><link rel="prefetch" href="/assets/js/51.c38f6779.js"><link rel="prefetch" href="/assets/js/52.a1eec700.js"><link rel="prefetch" href="/assets/js/53.29a04c98.js"><link rel="prefetch" href="/assets/js/54.5aaaa57d.js"><link rel="prefetch" href="/assets/js/55.2d2c18c6.js"><link rel="prefetch" href="/assets/js/56.563ee4dd.js"><link rel="prefetch" href="/assets/js/57.739f710d.js"><link rel="prefetch" href="/assets/js/59.0468b285.js"><link rel="prefetch" href="/assets/js/60.dc453cdc.js"><link rel="prefetch" href="/assets/js/61.a99c9ea1.js"><link rel="prefetch" href="/assets/js/62.cbf12941.js"><link rel="prefetch" href="/assets/js/63.d3f61fd0.js"><link rel="prefetch" href="/assets/js/64.df7d309b.js"><link rel="prefetch" href="/assets/js/65.7f40d292.js"><link rel="prefetch" href="/assets/js/66.02ab27d6.js"><link rel="prefetch" href="/assets/js/67.8881cade.js"><link rel="prefetch" href="/assets/js/68.e323ec0e.js"><link rel="prefetch" href="/assets/js/69.53ca3cff.js"><link rel="prefetch" href="/assets/js/7.1b2036d6.js"><link rel="prefetch" href="/assets/js/70.755b4460.js"><link rel="prefetch" href="/assets/js/71.584a17e5.js"><link rel="prefetch" href="/assets/js/72.5dcc5126.js"><link rel="prefetch" href="/assets/js/73.f5b35a98.js"><link rel="prefetch" href="/assets/js/74.b52b761f.js"><link rel="prefetch" href="/assets/js/75.81f1c245.js"><link rel="prefetch" href="/assets/js/76.7db921ad.js"><link rel="prefetch" href="/assets/js/77.7e20f6a9.js"><link rel="prefetch" href="/assets/js/78.cbd08bcc.js"><link rel="prefetch" href="/assets/js/79.4549ea45.js"><link rel="prefetch" href="/assets/js/8.259cc600.js"><link rel="prefetch" href="/assets/js/80.dcf45216.js"><link rel="prefetch" href="/assets/js/81.3f18ec80.js"><link rel="prefetch" href="/assets/js/9.184b1a2b.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.8c70a6b2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.26913bf2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">RSSHub</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="参与我们" class="dropdown-title"><span class="title">参与我们</span> <span class="arrow down"></span></button> <button type="button" aria-label="参与我们" class="mobile-dropdown-title"><span class="title">参与我们</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/joinus/quick-start.html" class="nav-link">
  快速开始
</a></li><li class="dropdown-item"><h4>
          详细规范
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/joinus/script-standard.html" class="nav-link">
  路由规范
</a></li><li class="dropdown-subitem"><a href="/joinus/pub-date.html" class="nav-link">
  日期处理
</a></li><li class="dropdown-subitem"><a href="/joinus/use-cache.html" class="nav-link">
  使用缓存
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/install/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  部署
</a></div><div class="nav-item"><a href="/support/" class="nav-link">
  支持 RSSHub
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/install/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/en/install/" class="nav-link">
  English
</a></li></ul></div></div> <a href="https://github.com/DIYgod/RSSHub" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="参与我们" class="dropdown-title"><span class="title">参与我们</span> <span class="arrow down"></span></button> <button type="button" aria-label="参与我们" class="mobile-dropdown-title"><span class="title">参与我们</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/joinus/quick-start.html" class="nav-link">
  快速开始
</a></li><li class="dropdown-item"><h4>
          详细规范
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/joinus/script-standard.html" class="nav-link">
  路由规范
</a></li><li class="dropdown-subitem"><a href="/joinus/pub-date.html" class="nav-link">
  日期处理
</a></li><li class="dropdown-subitem"><a href="/joinus/use-cache.html" class="nav-link">
  使用缓存
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/install/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  部署
</a></div><div class="nav-item"><a href="/support/" class="nav-link">
  支持 RSSHub
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/install/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/en/install/" class="nav-link">
  English
</a></li></ul></div></div> <a href="https://github.com/DIYgod/RSSHub" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div class="carbon-ads"></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>部署</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/install/#docker-jing-xiang" class="sidebar-link">Docker 镜像</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/install/#docker-compose-bu-shu" class="sidebar-link">Docker Compose 部署</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/install/#docker-compose-bu-shu-an-zhuang" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/install/#docker-compose-bu-shu-geng-xin" class="sidebar-link">更新</a></li><li class="sidebar-sub-header"><a href="/install/#docker-compose-bu-shu-tian-jia-pei-zhi" class="sidebar-link">添加配置</a></li></ul></li><li><a href="/install/#docker-bu-shu" class="sidebar-link">Docker 部署</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/install/#docker-bu-shu-an-zhuang" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/install/#docker-bu-shu-geng-xin" class="sidebar-link">更新</a></li><li class="sidebar-sub-header"><a href="/install/#docker-bu-shu-tian-jia-pei-zhi" class="sidebar-link">添加配置</a></li></ul></li><li><a href="/install/#ansible-bu-shu" class="sidebar-link">Ansible 部署</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/install/#ansible-bu-shu-an-zhuang" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/install/#ansible-bu-shu-geng-xin" class="sidebar-link">更新</a></li></ul></li><li><a href="/install/#shou-dong-bu-shu" class="sidebar-link">手动部署</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/install/#shou-dong-bu-shu-an-zhuang" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/install/#shou-dong-bu-shu-qi-dong" class="sidebar-link">启动</a></li><li class="sidebar-sub-header"><a href="/install/#shou-dong-bu-shu-tian-jia-pei-zhi" class="sidebar-link">添加配置</a></li><li class="sidebar-sub-header"><a href="/install/#shou-dong-bu-shu-geng-xin" class="sidebar-link">更新</a></li><li class="sidebar-sub-header"><a href="/install/#shou-dong-bu-shu-nix-yong-hu-ti-shi" class="sidebar-link">Nix 用户提示</a></li></ul></li><li><a href="/install/#bu-shu-dao-heroku" class="sidebar-link">部署到 Heroku</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/install/#bu-shu-dao-heroku-zhu-yi" class="sidebar-link">注意：</a></li><li class="sidebar-sub-header"><a href="/install/#bu-shu-dao-heroku-yi-jian-bu-shu-wu-zi-dong-geng-xin" class="sidebar-link">一键部署（无自动更新）</a></li><li class="sidebar-sub-header"><a href="/install/#bu-shu-dao-heroku-zi-dong-geng-xin-bu-shu" class="sidebar-link">自动更新部署</a></li></ul></li><li><a href="/install/#bu-shu-dao-vercel-zeit-now" class="sidebar-link">部署到 Vercel (Zeit Now)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/install/#bu-shu-dao-google-app-engine" class="sidebar-link">部署到 Google App Engine</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/install/#bu-shu-dao-google-app-engine-zhun-bei" class="sidebar-link">准备</a></li><li class="sidebar-sub-header"><a href="/install/#bu-shu-dao-google-app-engine-app-yaml-pei-zhi" class="sidebar-link">app.yaml 配置</a></li><li class="sidebar-sub-header"><a href="/install/#bu-shu-dao-google-app-engine-an-zhuang" class="sidebar-link">安装</a></li></ul></li><li><a href="/install/#play-with-docker" class="sidebar-link">Play with Docker</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/install/#pei-zhi" class="sidebar-link">配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/install/#pei-zhi-wang-luo-pei-zhi" class="sidebar-link">网络配置</a></li><li class="sidebar-sub-header"><a href="/install/#pei-zhi-kua-yu-qing-qiu" class="sidebar-link">跨域请求</a></li><li class="sidebar-sub-header"><a href="/install/#pei-zhi-huan-cun-pei-zhi" class="sidebar-link">缓存配置</a></li><li class="sidebar-sub-header"><a href="/install/#pei-zhi-dai-li-pei-zhi" class="sidebar-link">代理配置</a></li><li class="sidebar-sub-header"><a href="/install/#pei-zhi-yong-hu-ren-zheng" class="sidebar-link">用户认证</a></li><li class="sidebar-sub-header"><a href="/install/#pei-zhi-fang-wen-kong-zhi-pei-zhi" class="sidebar-link">访问控制配置</a></li><li class="sidebar-sub-header"><a href="/install/#pei-zhi-ri-zhi-pei-zhi" class="sidebar-link">日志配置</a></li><li class="sidebar-sub-header"><a href="/install/#pei-zhi-qi-ta-ying-yong-pei-zhi" class="sidebar-link">其他应用配置</a></li><li class="sidebar-sub-header"><a href="/install/#pei-zhi-bu-fen-rss-mo-kuai-pei-zhi" class="sidebar-link">部分 RSS 模块配置</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1>部署</h1> <p>部署 RSSHub 需要基本的计算机编程常识，如果您在部署过程中遇到无法解决的问题请到 <a href="https://github.com/DIYgod/RSSHub/issues" target="_blank" rel="noopener noreferrer">issues<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 寻找类似的问题或 <a href="https://github.com/DIYgod/RSSHub/issues/new/choose" target="_blank" rel="noopener noreferrer">向我们提问<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，我们会尽快给您答复。</p> <p>部署涉及到以下基本编程常识：</p> <ol><li>命令行操作</li> <li><a href="https://git-scm.com/" target="_blank" rel="noopener noreferrer">Git<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://nodejs.org/" target="_blank" rel="noopener noreferrer">Node.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.npmjs.com/get-npm" target="_blank" rel="noopener noreferrer">npm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 或 <a href="https://yarnpkg.com/zh-Hans/docs/install" target="_blank" rel="noopener noreferrer">yarn<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <p>部署到可外网访问则可能涉及到：</p> <ol><li><a href="https://www.nginx.com/resources/wiki/start/topics/tutorials/install/" target="_blank" rel="noopener noreferrer">Nginx<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.docker.com/get-started" target="_blank" rel="noopener noreferrer">Docker<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 或 <a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener noreferrer">docker-compose<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://redis.io/download" target="_blank" rel="noopener noreferrer">Redis<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://devcenter.heroku.com/articles/getting-started-with-nodejs" target="_blank" rel="noopener noreferrer">Heroku<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://cloud.google.com/appengine/" target="_blank" rel="noopener noreferrer">Google App Engine<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <h2 id="docker-jing-xiang"><a href="#docker-jing-xiang" class="header-anchor">#</a> Docker 镜像</h2> <p>默认推荐使用 <code>diygod/rsshub</code> 即 <code>diygod/rsshub:latest</code> 最新版镜像以获取最新路由。</p> <p>当 <code>diygod/rsshub:latest</code> 存在问题时，可以使用以日期为标签的近期镜像临时使用，例如:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">docker</span> pull diygod/rsshub:2021-06-18
</code></pre></div><p>待最新镜像更新后再切换回 <code>diygod/rsshub:latest</code> 最新版镜像。</p> <p>如需启用 puppeteer，可使用 <code>diygod/rsshub:chromium-bundled</code>；若指定日期则为 <code>diygod/rsshub:chromium-bundled-2021-06-18</code>。</p> <p>亦可使用 Docker Compose 部署以启用 puppeteer，但更消耗磁盘空间和内存。通过修改 <code>docker-compose.yml</code>，也可以使用 <code>diygod/rsshub:chromium-bundled</code>，这样就没有更消耗资源的问题了。</p> <h2 id="docker-compose-bu-shu"><a href="#docker-compose-bu-shu" class="header-anchor">#</a> Docker Compose 部署</h2> <h3 id="docker-compose-bu-shu-an-zhuang"><a href="#docker-compose-bu-shu-an-zhuang" class="header-anchor">#</a> 安装</h3> <p>下载 <a href="https://github.com/DIYgod/RSSHub/blob/master/docker-compose.yml" target="_blank" rel="noopener noreferrer">docker-compose.yml<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">wget</span> https://raw.githubusercontent.com/DIYgod/RSSHub/master/docker-compose.yml
</code></pre></div><p>检查有无需要修改的配置</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">vi</span> docker-compose.yml  <span class="token comment"># 也可以是你喜欢的编辑器</span>
</code></pre></div><p>创建 volume 持久化 Redis 缓存</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">docker</span> volume create redis-data
</code></pre></div><p>启动</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">docker-compose</span> up -d
</code></pre></div><h3 id="docker-compose-bu-shu-geng-xin"><a href="#docker-compose-bu-shu-geng-xin" class="header-anchor">#</a> 更新</h3> <p>删除旧容器</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">docker-compose</span> down
</code></pre></div><p>如果之前已经下载 / 使用过镜像，下方命令可以帮助你获取最新版本：这可能可以解决一些问题。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">docker</span> pull diygod/rsshub
</code></pre></div><p>然后重复安装步骤</p> <h3 id="docker-compose-bu-shu-tian-jia-pei-zhi"><a href="#docker-compose-bu-shu-tian-jia-pei-zhi" class="header-anchor">#</a> 添加配置</h3> <p>修改 <a href="https://github.com/DIYgod/RSSHub/blob/master/docker-compose.yml" target="_blank" rel="noopener noreferrer">docker-compose.yml<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 中的 <code>environment</code> 进行配置</p> <h2 id="docker-bu-shu"><a href="#docker-bu-shu" class="header-anchor">#</a> Docker 部署</h2> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>如需启用 puppeteer，请在<strong>每条</strong>命令中均将 <code>diygod/rsshub</code> 替换为 <code>diygod/rsshub:chromium-bundled</code>。</p></div> <h3 id="docker-bu-shu-an-zhuang"><a href="#docker-bu-shu-an-zhuang" class="header-anchor">#</a> 安装</h3> <p>运行下面的命令下载 RSSHub 镜像</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">docker</span> pull diygod/rsshub
</code></pre></div><p>然后运行 RSSHub 即可</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">docker</span> run -d --name rsshub -p <span class="token number">1200</span>:1200 diygod/rsshub
</code></pre></div><p>在浏览器中打开 <a href="http://127.0.0.1:1200/" target="_blank" rel="noopener noreferrer">http://127.0.0.1:1200/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，enjoy it! ✅</p> <p>您可以使用下面的命令来关闭 RSSHub</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">docker</span> stop rsshub
</code></pre></div><h3 id="docker-bu-shu-geng-xin"><a href="#docker-bu-shu-geng-xin" class="header-anchor">#</a> 更新</h3> <p>删除旧容器</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">docker</span> stop rsshub
$ <span class="token function">docker</span> <span class="token function">rm</span> rsshub
</code></pre></div><p>然后重复安装步骤</p> <h3 id="docker-bu-shu-tian-jia-pei-zhi"><a href="#docker-bu-shu-tian-jia-pei-zhi" class="header-anchor">#</a> 添加配置</h3> <p>配置运行在 docker 中的 RSSHub，最便利的方法是使用 docker 环境变量</p> <p>以设置缓存时间为 1 小时举例，只需要在运行时增加参数：<code>-e CACHE_EXPIRE=3600</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">docker</span> run -d --name rsshub -p <span class="token number">1200</span>:1200 -e <span class="token assign-left variable">CACHE_EXPIRE</span><span class="token operator">=</span><span class="token number">3600</span> -e <span class="token assign-left variable">GITHUB_ACCESS_TOKEN</span><span class="token operator">=</span>example diygod/rsshub
</code></pre></div><p>该部署方式不包括 puppeteer（除非改用 <code>diygod/rsshub:chromium-bundled</code>）和 redis 依赖，如有需要请改用 Docker Compose 部署方式或自行部署外部依赖</p> <p>更多配置项请看 <a href="#pei-zhi">#配置</a></p> <h2 id="ansible-bu-shu"><a href="#ansible-bu-shu" class="header-anchor">#</a> Ansible 部署</h2> <p>这个 Ansible playbook 包括了 RSSHub, Redis, browserless (依赖 Docker) 以及 Caddy 2</p> <p>目前只支持 Ubuntu 20.04</p> <p>需要 sudo 权限和虚拟化能力（Docker 将会被自动安装）</p> <h3 id="ansible-bu-shu-an-zhuang"><a href="#ansible-bu-shu-an-zhuang" class="header-anchor">#</a> 安装</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> ansible
<span class="token function">git</span> clone https://github.com/DIYgod/RSSHub.git ~/RSSHub
<span class="token builtin class-name">cd</span> ~/RSSHub/scripts/ansible
<span class="token function">sudo</span> ansible-playbook rsshub.yaml
<span class="token comment"># 当提示输入 domain name 的时候，输入该主机所使用的域名</span>
<span class="token comment"># 举例：如果您的 RSSHub 用户使用 https://rsshub.example.com 访问您的 RSSHub 实例，输入 rsshub.example.com（去掉 https://）</span>
</code></pre></div><h3 id="ansible-bu-shu-geng-xin"><a href="#ansible-bu-shu-geng-xin" class="header-anchor">#</a> 更新</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/RSSHub/scripts/ansible
<span class="token function">sudo</span> ansible-playbook rsshub.yaml
<span class="token comment"># 当提示输入 domain name 的时候，输入该主机所使用的域名</span>
<span class="token comment"># 举例：如果您的 RSSHub 用户使用 https://rsshub.example.com 访问您的 RSSHub 实例，输入 rsshub.example.com（去掉 https://）</span>
</code></pre></div><h2 id="shou-dong-bu-shu"><a href="#shou-dong-bu-shu" class="header-anchor">#</a> 手动部署</h2> <p>部署 <code>RSSHub</code> 最直接的方式，您可以按照以下步骤将 <code>RSSHub</code> 部署在您的电脑、服务器或者其他任何地方</p> <h3 id="shou-dong-bu-shu-an-zhuang"><a href="#shou-dong-bu-shu-an-zhuang" class="header-anchor">#</a> 安装</h3> <p>首先是下载 <code>RSSHub</code> 的源码</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> clone https://github.com/DIYgod/RSSHub.git
$ <span class="token builtin class-name">cd</span> RSSHub
</code></pre></div><p>下载完成后，需要安装依赖（开发不要加 <code>--production</code> 参数）</p> <p>使用 <code>npm</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> ci --production
</code></pre></div><p>或 <code>yarn</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">yarn</span> <span class="token function">install</span> --production
</code></pre></div><p>由于众所周知的原因，在中国使用 <code>npm</code> 下载依赖十分缓慢，建议挂一个代理或者考虑使用 <a href="https://npm.taobao.org/" target="_blank" rel="noopener noreferrer">NPM 镜像<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="shou-dong-bu-shu-qi-dong"><a href="#shou-dong-bu-shu-qi-dong" class="header-anchor">#</a> 启动</h3> <p>然后在 <code>RSSHub</code> 文件夹中运行下面的命令就可以启动</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> start
</code></pre></div><p>或</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">yarn</span> start
</code></pre></div><p>或使用 <a href="https://pm2.keymetrics.io/docs/usage/quick-start/" target="_blank" rel="noopener noreferrer">PM2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ pm2 start lib/index.js --name rsshub
</code></pre></div><p>在浏览器中打开 <a href="http://127.0.0.1:1200/" target="_blank" rel="noopener noreferrer">http://127.0.0.1:1200/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，enjoy it! ✅</p> <p>详细使用说明参照 <a href="https://docs.rsshub.app/" target="_blank" rel="noopener noreferrer">指南<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，替换所有路由例子中的 <code>https://rsshub.app/</code> 为 <code>http://localhost:1200</code> 即可正常使用</p> <h3 id="shou-dong-bu-shu-tian-jia-pei-zhi"><a href="#shou-dong-bu-shu-tian-jia-pei-zhi" class="header-anchor">#</a> 添加配置</h3> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>在 arm/arm64 上，此部署方式不包含 puppeteer 依赖。要启用 puppeteer，你需要先从发行版安装 Chromium，然后设置 <code>CHROMIUM_EXECUTABLE_PATH</code> 为其可执行路径。</p> <p>Debian:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">apt</span> <span class="token function">install</span> chroium
$ <span class="token builtin class-name">echo</span> <span class="token operator">&gt;&gt;</span> .env
$ <span class="token builtin class-name">echo</span> <span class="token string">'CHROMIUM_EXECUTABLE_PATH=chromium'</span> <span class="token operator">&gt;&gt;</span> .env
</code></pre></div><p>Ubuntu/Raspbian:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">apt</span> <span class="token function">install</span> chromium-browser
$ <span class="token builtin class-name">echo</span> <span class="token operator">&gt;&gt;</span> .env
$ <span class="token builtin class-name">echo</span> <span class="token string">'CHROMIUM_EXECUTABLE_PATH=chromium-browser'</span> <span class="token operator">&gt;&gt;</span> .env
</code></pre></div></div> <p>可以通过设置环境变量来配置 RSSHub</p> <p>在项目根目录新建一个 <code>.env</code> 文件，每行以 <code>NAME=VALUE</code> 格式添加环境变量，例如</p> <div class="language-env extra-class"><pre class="language-text"><code>CACHE_TYPE=redis
CACHE_EXPIRE=600
</code></pre></div><p>注意它不会覆盖已有的环境变量，更多规则请参考 <a href="https://github.com/motdotla/dotenv" target="_blank" rel="noopener noreferrer">dotenv<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>该部署方式不包括 redis 依赖，如有需要请改用 Docker Compose 部署方式或自行部署外部依赖</p> <p>更多配置项请看 <a href="#pei-zhi">#配置</a></p> <h3 id="shou-dong-bu-shu-geng-xin"><a href="#shou-dong-bu-shu-geng-xin" class="header-anchor">#</a> 更新</h3> <p>在 <code>RSSHub</code> 文件夹中运行下面的命令就从 github 仓库拉取最新版本</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> pull
</code></pre></div><p>然后重复安装步骤。</p> <h3 id="shou-dong-bu-shu-nix-yong-hu-ti-shi"><a href="#shou-dong-bu-shu-nix-yong-hu-ti-shi" class="header-anchor">#</a> Nix 用户提示</h3> <p>通过 <code>nix-shell</code> 配置简化安装 nodejs, yarn 和 jieba：</p> <div class="language-nix extra-class"><pre class="language-nix"><code><span class="token keyword">let</span>
    pkgs <span class="token operator">=</span> <span class="token function">import</span> <span class="token operator">&lt;</span>nixpkgs<span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    node <span class="token operator">=</span> pkgs<span class="token punctuation">.</span>nodejs<span class="token operator">-</span>12_x<span class="token punctuation">;</span>
<span class="token keyword">in</span> pkgs<span class="token punctuation">.</span>stdenv<span class="token punctuation">.</span>mkDerivation <span class="token punctuation">{</span>
    name <span class="token operator">=</span> <span class="token string">&quot;nodejs-yarn-jieba&quot;</span><span class="token punctuation">;</span>
    buildInputs <span class="token operator">=</span> <span class="token punctuation">[</span>node pkgs<span class="token punctuation">.</span>yarn pkgs<span class="token punctuation">.</span>pythonPackages<span class="token punctuation">.</span>jieba<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="bu-shu-dao-heroku"><a href="#bu-shu-dao-heroku" class="header-anchor">#</a> 部署到 Heroku</h2> <h3 id="bu-shu-dao-heroku-zhu-yi"><a href="#bu-shu-dao-heroku-zhu-yi" class="header-anchor">#</a> 注意：</h3> <p>未验证支付方式的 heroku 账户每月仅有 550 小时额度（约 23 天），验证支付方式后可达每月 1000 小时。</p> <h3 id="bu-shu-dao-heroku-yi-jian-bu-shu-wu-zi-dong-geng-xin"><a href="#bu-shu-dao-heroku-yi-jian-bu-shu-wu-zi-dong-geng-xin" class="header-anchor">#</a> 一键部署（无自动更新）</h3> <p><a href="https://heroku.com/deploy?template=https%3A%2F%2Fgithub.com%2FDIYgod%2FRSSHub" target="_blank" rel="noopener noreferrer"><img src="https://www.herokucdn.com/deploy/button.svg" alt="Deploy to Heroku"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="bu-shu-dao-heroku-zi-dong-geng-xin-bu-shu"><a href="#bu-shu-dao-heroku-zi-dong-geng-xin-bu-shu" class="header-anchor">#</a> 自动更新部署</h3> <ol><li>将 RSSHub <a href="https://github.com/login?return_to=%2FDIYgod%2FRSSHub" target="_blank" rel="noopener noreferrer">分叉（fork）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 到自己的账户下。</li> <li>把自己的分叉部署到 Heroku：<code>https://heroku.com/deploy?template=URL</code>，其中 <code>URL</code> 改为分叉地址 （例如 <code>https://github.com/USERNAME/RSSHub</code>)。</li> <li>检查 Heroku 设置，随代码库更新自动部署。</li> <li>安装 <a href="https://github.com/apps/pull" target="_blank" rel="noopener noreferrer">Pull<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 应用，定期将 RSSHub 改动自动同步至你的分叉。</li></ol> <h2 id="bu-shu-dao-vercel-zeit-now"><a href="#bu-shu-dao-vercel-zeit-now" class="header-anchor">#</a> 部署到 Vercel (Zeit Now)</h2> <p><a href="https://vercel.com/import/project?template=https://github.com/DIYgod/RSSHub" target="_blank" rel="noopener noreferrer"><img src="https://vercel.com/button" alt="Deploy to Vercel"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="bu-shu-dao-google-app-engine"><a href="#bu-shu-dao-google-app-engine" class="header-anchor">#</a> 部署到 Google App Engine</h2> <h3 id="bu-shu-dao-google-app-engine-zhun-bei"><a href="#bu-shu-dao-google-app-engine-zhun-bei" class="header-anchor">#</a> 准备</h3> <p><a href="https://cloud.google.com/appengine/docs/flexible/nodejs/quickstart" target="_blank" rel="noopener noreferrer">Before you begin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>按照这里的引导完成 GCP 账号设置，创建 GCP 项目，创建 App Engine 项目，开通付费功能（必须），安装 git 与 gcloud 工具。并完成 gcloud 工具的初始化，初始化具体方式 <a href="https://cloud.google.com/sdk/gcloud/?hl=zh-CN" target="_blank" rel="noopener noreferrer">请查看这个链接<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。如果你不打算在本地调试本项目，可以不安装 Node.js 环境。</p> <p>请注意，GAE 免费用量不支持 Flexible Environment，部署到 Flexible Environment 前请确认收费标准。</p> <p>Node.JS 的 standard environment 仍在测试中，您可能会在部署或使用中遇到某些不可预期的问题。</p> <p>运行 <code>git clone https://github.com/DIYgod/RSSHub.git</code> 拉取本项目的最新版本。</p> <h3 id="bu-shu-dao-google-app-engine-app-yaml-pei-zhi"><a href="#bu-shu-dao-google-app-engine-app-yaml-pei-zhi" class="header-anchor">#</a> app.yaml 配置</h3> <h4 id="bu-shu-dao-google-app-engine-app-yaml-pei-zhi-bu-shu-dao-flexible-environment"><a href="#bu-shu-dao-google-app-engine-app-yaml-pei-zhi-bu-shu-dao-flexible-environment" class="header-anchor">#</a> 部署到 Flexible Environment</h4> <p>在 RSSHub 项目根目录下建立一个 app.yaml 文件，内容示例如下：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># [START app_yaml]</span>
<span class="token key atrule">runtime</span><span class="token punctuation">:</span> custom
<span class="token key atrule">env</span><span class="token punctuation">:</span> flex

<span class="token comment"># This sample incurs costs to run on the App Engine flexible environment.</span>
<span class="token comment"># The settings below are to reduce costs during testing and are not appropriate</span>
<span class="token comment"># for production use. For more information, see:</span>
<span class="token comment"># https://cloud.google.com/appengine/docs/flexible/nodejs/configuring-your-app-with-app-yaml</span>
<span class="token key atrule">manual_scaling</span><span class="token punctuation">:</span>
    <span class="token key atrule">instances</span><span class="token punctuation">:</span> <span class="token number">1</span>
<span class="token comment"># 以下是 app engine 资源配置，可以自行修改，硬盘最低为 10G</span>
<span class="token key atrule">resources</span><span class="token punctuation">:</span>
    <span class="token key atrule">cpu</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token key atrule">memory_gb</span><span class="token punctuation">:</span> <span class="token number">0.5</span>
    <span class="token key atrule">disk_size_gb</span><span class="token punctuation">:</span> <span class="token number">10</span>
<span class="token key atrule">network</span><span class="token punctuation">:</span>
    <span class="token key atrule">forwarded_ports</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> 80<span class="token punctuation">:</span><span class="token number">1200</span>
        <span class="token punctuation">-</span> 443<span class="token punctuation">:</span><span class="token number">1200</span>
<span class="token comment"># 以下是环境配置示例，具体可配置项见本文档配置章节</span>
<span class="token key atrule">env_variables</span><span class="token punctuation">:</span>
    <span class="token key atrule">CACHE_EXPIRE</span><span class="token punctuation">:</span> <span class="token string">'300'</span>
<span class="token comment"># [END app_yaml]</span>
</code></pre></div><h4 id="bu-shu-dao-google-app-engine-app-yaml-pei-zhi-bu-shu-dao-standard-environment"><a href="#bu-shu-dao-google-app-engine-app-yaml-pei-zhi-bu-shu-dao-standard-environment" class="header-anchor">#</a> 部署到 standard environment</h4> <p>在 RSSHub 项目根目录下建立一个 app.yaml 文件，内容示例如下：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># [START app_yaml]</span>
<span class="token key atrule">runtime</span><span class="token punctuation">:</span> nodejs8

<span class="token key atrule">network</span><span class="token punctuation">:</span>
    <span class="token key atrule">forwarded_ports</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> 80<span class="token punctuation">:</span><span class="token number">1200</span>
        <span class="token punctuation">-</span> 443<span class="token punctuation">:</span><span class="token number">1200</span>
<span class="token comment"># 以下是环境配置示例，具体可配置项见本文档配置章节</span>
<span class="token key atrule">env_variables</span><span class="token punctuation">:</span>
    <span class="token key atrule">CACHE_EXPIRE</span><span class="token punctuation">:</span> <span class="token string">'300'</span>
<span class="token comment"># [END app_yaml]</span>
</code></pre></div><h3 id="bu-shu-dao-google-app-engine-an-zhuang"><a href="#bu-shu-dao-google-app-engine-an-zhuang" class="header-anchor">#</a> 安装</h3> <p>在 RSSHub 项目根目录下运行</p> <div class="language-bash extra-class"><pre class="language-bash"><code>gcloud app deploy
</code></pre></div><p>进行项目部署，如果您需要变更 app.yaml 文件名称或者变更部署的项目 ID 或者指定版本号等，请参考 <a href="https://cloud.google.com/appengine/docs/flexible/nodejs/testing-and-deploying-your-app#deploying_a_service_2" target="_blank" rel="noopener noreferrer">Deploying a service<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>部署完成后可访问您的 Google App Engine URL 查看部署情况。</p> <h2 id="play-with-docker"><a href="#play-with-docker" class="header-anchor">#</a> Play with Docker</h2> <p>如果想要测试因为反爬规则导致无法访问的路由，您可以点击下方按钮拉起一套免费，临时，专属于您的 RSSHub</p> <p><a href="https://labs.play-with-docker.com/?stack=https://raw.githubusercontent.com/DIYgod/RSSHub/master/docker-compose.yml" target="_blank" rel="noopener noreferrer"><img src="https://raw.githubusercontent.com/play-with-docker/stacks/master/assets/images/button.png" alt="Try in PWD"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <ul><li>需要 <a href="https://hub.docker.com" target="_blank" rel="noopener noreferrer">DockerHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 账号</li> <li><a href="https://labs.play-with-docker.com/" target="_blank" rel="noopener noreferrer">Play with Docker<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 一次仅能使用 4 小时，不能作为持久化解决方案，应当用于测试 / 验证路由规则</li> <li>如果部署完成后不能看到自动识别的端口，请手动点击顶部按钮<code>open port</code>并输入<code>1200</code></li> <li>有的时候 PWD 会抽风，如果遇到点击<code>Start</code>后空白页面，或者拉起失败，请重试</li></ul></div> <h2 id="pei-zhi"><a href="#pei-zhi" class="header-anchor">#</a> 配置</h2> <p>通过设置环境变量来配置 RSSHub</p> <h3 id="pei-zhi-wang-luo-pei-zhi"><a href="#pei-zhi-wang-luo-pei-zhi" class="header-anchor">#</a> 网络配置</h3> <p><code>PORT</code>: 监听端口，默认为 <code>1200</code></p> <p><code>SOCKET</code>: 监听 Unix Socket，默认 <code>null</code></p> <p><code>LISTEN_INADDR_ANY</code>: 是否允许公网连接，默认 <code>1</code></p> <p><code>REQUEST_RETRY</code>: 请求失败重试次数，默认 <code>2</code></p> <p><code>REQUEST_TIMEOUT</code>: 请求超时毫秒数，默认 <code>3000</code></p> <p><code>UA</code>: 用户代理，默认 <code>Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36</code></p> <h3 id="pei-zhi-kua-yu-qing-qiu"><a href="#pei-zhi-kua-yu-qing-qiu" class="header-anchor">#</a> 跨域请求</h3> <p>RSSHub 默认对跨域请求限制为当前连接所在的域名，即不允许跨域。可以通过 <code>ALLOW_ORIGIN: *</code> 或者 <code>ALLOW_ORIGIN: www.example.com</code> 以对跨域访问进行修改。</p> <h3 id="pei-zhi-huan-cun-pei-zhi"><a href="#pei-zhi-huan-cun-pei-zhi" class="header-anchor">#</a> 缓存配置</h3> <p>RSSHub 支持 <code>memory</code> 和 <code>redis</code> 两种缓存方式</p> <p><code>CACHE_TYPE</code>: 缓存类型，可为 <code>memory</code> 和 <code>redis</code>，设为空可以禁止缓存，默认为 <code>memory</code></p> <p><code>CACHE_EXPIRE</code>: 路由缓存过期时间，单位为秒，默认 <code>5 * 60</code></p> <p><code>CACHE_CONTENT_EXPIRE</code>: 内容缓存过期时间，每次访问会重新计算过期时间，单位为秒，默认 <code>1 * 60 * 60</code></p> <p><code>REDIS_URL</code>: Redis 连接地址（redis 缓存类型时有效），默认为 <code>redis://localhost:6379/</code></p> <p><code>MEMORY_MAX</code>: 最大缓存数量（memory 缓存类型时有效），默认 <code>256</code></p> <h3 id="pei-zhi-dai-li-pei-zhi"><a href="#pei-zhi-dai-li-pei-zhi" class="header-anchor">#</a> 代理配置</h3> <p>部分路由反爬严格，可以配置使用代理抓取。</p> <p>可通过<strong>代理 URI</strong>或<strong>代理选项</strong>两种方式来配置代理，当两种配置方式同时被设置时，RSSHub 将会使用<strong>代理 URI</strong>中的配置。</p> <h4 id="pei-zhi-dai-li-pei-zhi-dai-li-uri"><a href="#pei-zhi-dai-li-pei-zhi-dai-li-uri" class="header-anchor">#</a> 代理 URI</h4> <p><code>PROXY_URI</code>: 代理 URI，支持 socks4, socks5（本地查询域名的 SOCKS5，不推荐使用）, socks5h（传域名的 SOCKS5，推荐使用，以防止 DNS 污染或 DNS 泄露）, http, https，具体以<a href="https://www.npmjs.com/package/socks-proxy-agent" target="_blank" rel="noopener noreferrer">socks-proxy-agent<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> NPM 包的支持为准，也可参考<a href="https://daniel.haxx.se/blog/2020/05/26/curl-ootw-socks5/" target="_blank" rel="noopener noreferrer">curl 中 SOCKS 代理协议的用法<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <blockquote><p>代理 URI 的格式为：</p> <ul><li><code>{protocol}://{host}:{port}</code></li> <li><code>{protocol}://{username}:{password}@{host}:{port}</code> （带身份凭证）</li></ul> <p>一些示例：</p> <ul><li><code>socks4://127.0.0.1:1080</code></li> <li><code>socks5h://user:pass@127.0.0.1:1080</code> （用户名为 <code>user</code>, 密码为 <code>pass</code>）</li> <li><code>socks://127.0.0.1:1080</code> （protocol 为 socks 时表示 <code>socks5h</code>）</li> <li><code>http://127.0.0.1:8080</code></li> <li><code>http://user:pass@127.0.0.1:8080</code></li> <li><code>https://127.0.0.1:8443</code></li></ul></blockquote> <h4 id="pei-zhi-dai-li-pei-zhi-dai-li-xuan-xiang"><a href="#pei-zhi-dai-li-pei-zhi-dai-li-xuan-xiang" class="header-anchor">#</a> 代理选项</h4> <p><code>PROXY_PROTOCOL</code>: 使用代理，支持 socks，http，https</p> <p><code>PROXY_HOST</code>: 代理服务器域名或 IP</p> <p><code>PROXY_PORT</code>: 代理服务器端口</p> <p><code>PROXY_AUTH</code>: 给代理服务器的身份验证凭证，<code>Proxy-Authorization: Basic ${process.env.PROXY_AUTH}</code></p> <p><code>PROXY_URL_REGEX</code>: 启用代理的 URL 正则表达式，默认全部开启 <code>.*</code></p> <h3 id="pei-zhi-yong-hu-ren-zheng"><a href="#pei-zhi-yong-hu-ren-zheng" class="header-anchor">#</a> 用户认证</h3> <p><code>protected_route.js</code> 内的路由将启用 HTTP Basic Authentication 认证</p> <p>支持该认证协议的阅读器，在添加源地址时，需要在源地址前添加认证信息，例如：<code>http://usernam3:passw0rd@rsshub.app/protected/rsshub/routes</code>。</p> <p>对于不支持该认证协议的阅读器，请参考 <a href="#fang-wen-kong-zhi-pei-zhi">访问控制配置</a>。</p> <p><code>HTTP_BASIC_AUTH_NAME</code>: Http basic authentication 用户名，默认为 <code>usernam3</code>，请务必修改</p> <p><code>HTTP_BASIC_AUTH_PASS</code>: Http basic authentication 密码，默认为 <code>passw0rd</code>，请务必修改</p> <h3 id="pei-zhi-fang-wen-kong-zhi-pei-zhi"><a href="#pei-zhi-fang-wen-kong-zhi-pei-zhi" class="header-anchor">#</a> 访问控制配置</h3> <p>RSSHub 支持使用访问密钥 / 码，白名单和黑名单三种方式进行访问控制。开启任意选项将会激活全局访问控制，没有访问权限将会导致访问被拒绝。同时可以通过 <code>ALLOW_LOCALHOST: true</code> 赋予所有本地 IP 访问权限。</p> <h4 id="pei-zhi-fang-wen-kong-zhi-pei-zhi-hei-bai-ming-dan"><a href="#pei-zhi-fang-wen-kong-zhi-pei-zhi-hei-bai-ming-dan" class="header-anchor">#</a> 黑白名单</h4> <ul><li><p><code>WHITELIST</code>: 白名单，设置白名单后黑名单无效</p></li> <li><p><code>BLACKLIST</code>: 黑名单</p></li></ul> <p>黑白名单支持 IP、路由和 UA，模糊匹配，设置多项时用英文逗号 <code>,</code> 隔开，例如 <code>WHITELIST=1.1.1.1,2.2.2.2,/qdaily/column/59</code></p> <h4 id="pei-zhi-fang-wen-kong-zhi-pei-zhi-fang-wen-mi-yao-ma"><a href="#pei-zhi-fang-wen-kong-zhi-pei-zhi-fang-wen-mi-yao-ma" class="header-anchor">#</a> 访问密钥 / 码</h4> <ul><li><code>ACCESS_KEY</code>: 访问密钥，用于直接访问所有路由或者生成访问码</li></ul> <p>访问码为 访问密钥 + 路由 共同生成的 md5，例如：</p> <table><thead><tr><th>访问密钥</th> <th>路由</th> <th>生成过程</th> <th>访问码</th></tr></thead> <tbody><tr><td>ILoveRSSHub</td> <td>/qdaily/column/59</td> <td>md5('/qdaily/column/59' + 'ILoveRSSHub')</td> <td>0f820530128805ffc10351f22b5fd121</td></tr></tbody></table> <ul><li><p>此时可以通过 <code>code</code> 访问路由，例如：<a href="https://rsshub.app/qdaily/column/59?code=0f820530128805ffc10351f22b5fd121" target="_blank" rel="noopener noreferrer">https://rsshub.app/qdaily/column/59?code=0f820530128805ffc10351f22b5fd121<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>或使用访问密钥 <code>key</code> 直接访问所有路由，例如：<a href="https://rsshub.app/qdaily/column/59?key=ILoveRSSHub" target="_blank" rel="noopener noreferrer">https://rsshub.app/qdaily/column/59?key=ILoveRSSHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <p>访问密钥 / 码与黑白名单的访问控制关系如下：</p> <table><thead><tr><th></th> <th>正确访问密钥 / 码</th> <th>错误访问密钥 / 码</th> <th>无访问密钥 / 码</th></tr></thead> <tbody><tr><td>在白名单中</td> <td>✅</td> <td>✅</td> <td>✅</td></tr> <tr><td>在黑名单中</td> <td>✅</td> <td>❌</td> <td>❌</td></tr> <tr><td>无黑白名单</td> <td>✅</td> <td>❌</td> <td>❌</td></tr></tbody></table> <h3 id="pei-zhi-ri-zhi-pei-zhi"><a href="#pei-zhi-ri-zhi-pei-zhi" class="header-anchor">#</a> 日志配置</h3> <p><code>DEBUG_INFO</code>: 是否在首页显示路由信息。值为非 <code>true</code> <code>false</code> 时，在请求中带上参数 <code>debug</code> 开启显示，例如：<a href="https://rsshub.app/?debug=value_of_DEBUG_INFO" target="_blank" rel="noopener noreferrer">https://rsshub.app/?debug=value_of_DEBUG_INFO<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。默认 <code>true</code></p> <p><code>LOGGER_LEVEL</code>: 指明输出到 console 和日志文件的日志的最大 <a href="https://github.com/winstonjs/winston#logging-levels" target="_blank" rel="noopener noreferrer">等级<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，默认 <code>info</code></p> <p><code>NO_LOGFILES</code>: 是否禁用日志文件输出，默认 <code>false</code></p> <p><code>SENTRY</code>: <a href="https://sentry.io" target="_blank" rel="noopener noreferrer">Sentry<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> dsn，用于错误追踪</p> <p><code>SENTRY_ROUTE_TIMEOUT</code>: 路由耗时超过此毫秒值上报 Sentry，默认 <code>3000</code></p> <h3 id="pei-zhi-qi-ta-ying-yong-pei-zhi"><a href="#pei-zhi-qi-ta-ying-yong-pei-zhi" class="header-anchor">#</a> 其他应用配置</h3> <p><code>DISALLOW_ROBOT</code>: 阻止搜索引擎收录，默认开启，设置 false 或 0 关闭</p> <p><code>ENABLE_CLUSTER</code>: 是否开启集群模式，默认 <code>false</code></p> <p><code>HOTLINK_TEMPLATE</code>: 用于处理描述中图片的链接，绕过防盗链等限制，留空不生效。用法参考 <a href="https://github.com/DIYgod/RSSHub/issues/2769" target="_blank" rel="noopener noreferrer">#2769<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。可以使用 <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL#Properties" target="_blank" rel="noopener noreferrer">URL<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 的所有属性，格式为 JS 变量模板。例子：<code>${protocol}//${host}${pathname}</code>, <code>https://i3.wp.com/${host}${pathname}</code></p> <p><code>NODE_ENV</code>: 是否显示错误输出，默认 <code>production</code> （即关闭输出）</p> <p><code>NODE_NAME</code>: 节点名，用于负载均衡，识别当前节点</p> <p><code>PUPPETEER_WS_ENDPOINT</code>: 用于 puppeteer.connect 的浏览器 websocket 链接，见 <a href="https://zhaoqize.github.io/puppeteer-api-zh_CN/#?product=Puppeteer&amp;show=api-browserwsendpoint" target="_blank" rel="noopener noreferrer">browserWSEndpoint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><code>CHROMIUM_EXECUTABLE_PATH</code>: Chromium（或 Chrome）的可执行路径。若 puppeteer 没有下载捆绑的 Chromium（主动跳过下载或体系架构为 arm/arm64），设置此项可启用 puppeteer。或者，偏好 Chrome 而不是 Chromium 时，此项也很有用。<strong>注意</strong>：<code>PUPPETEER_WS_ENDPOINT</code> 被设置时，此项不生效；仅在手动部署时有用，对于 Docker 部署，请改用 <code>chromium-bundled</code> 版本镜像。</p> <p><code>TITLE_LENGTH_LIMIT</code>: 限制输出标题的字节长度，一个英文字符的长度为 1 字节，部分语言如中文，日文，韩文或阿拉伯文等，统一算作 2 字节，默认 <code>150</code></p> <h3 id="pei-zhi-bu-fen-rss-mo-kuai-pei-zhi"><a href="#pei-zhi-bu-fen-rss-mo-kuai-pei-zhi" class="header-anchor">#</a> 部分 RSS 模块配置</h3> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>此处信息不完整。完整配置请参考路由对应的文档和 <code>lib/config.js</code>。</p></div> <ul><li><p>4399 论坛</p> <ul><li><code>GAME_4399</code>: 对应登录后的 cookie 值，获取方式：
<ol><li>在 4399 首页登录。</li> <li>打开开发者工具，切换到 Network 面板，刷新</li> <li>查找<code>www.4399.com</code>的访问请求，点击请求，在右侧 Headers 中找到 Cookie.</li></ol></li></ul></li> <li><p>bilibili 用户关注动态系列路由</p> <ul><li><code>BILIBILI_COOKIE_{uid}</code>: 对应 uid 的 b 站用户登录后的 Cookie 值，<code>{uid}</code> 替换为 uid，如 <code>BILIBILI_COOKIE_2267573</code>，获取方式：
<ol><li>打开 <a href="https://api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/dynamic_new?uid=0&amp;type=8" target="_blank" rel="noopener noreferrer">https://api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/dynamic_new?uid=0&amp;type=8<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>打开控制台，切换到 Network 面板，刷新</li> <li>点击 dynamic_new 请求，找到 Cookie</li> <li>视频和专栏只要求 <code>SESSDATA</code> 字段，动态需复制整段 Cookie</li></ol></li></ul></li> <li><p>Bitbucket: <a href="https://developer.atlassian.com/cloud/bitbucket/rest/intro/#basic-auth" target="_blank" rel="noopener noreferrer">Basic auth with App passwords<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><code>BITBUCKET_USERNAME</code>: 你的 Bitbucket 用户名</li> <li><code>BITBUCKET_PASSWORD</code>: 你的 Bitbucket 密码</li></ul></li> <li><p>BTBYR</p> <ul><li><code>BTBYR_HOST</code>: 支持 ipv4 访问的 BTBYR 镜像，默认为原站 <code>https://bt.byr.cn/</code>。</li> <li><code>BTBYR_COOKIE</code>: 注册用户登录后的 Cookie 值，获取方式：
<ol><li>登录后打开网站首页</li> <li>打开控制台，刷新</li> <li>找到 <a href="https://bt.byr.cn/index.php" target="_blank" rel="noopener noreferrer">https://bt.byr.cn/index.php<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 请求</li> <li>找到请求头中的 Cookie</li></ol></li></ul></li> <li><p>BUPT</p> <ul><li><code>BUPT_PORTAL_COOKIE</code>: 登录后获得的 Cookie 值，获取方式
<ol><li>打开<a href="https://webapp.bupt.edu.cn/wap/login.html?redirect=https://" target="_blank" rel="noopener noreferrer">https://webapp.bupt.edu.cn/wap/login.html?redirect=https://<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>并登录</li> <li>无视掉报错，并打开 <a href="https://webapp.bupt.edu.cn/extensions/wap/news/list.html?p-1&amp;type=xnxw" target="_blank" rel="noopener noreferrer">https://webapp.bupt.edu.cn/extensions/wap/news/list.html?p-1&amp;type=xnxw<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>打开控制台，刷新</li> <li>找到 <a href="https://webapp.bupt.edu.cn/extensions/wap/news/list.html?p-1&amp;type=xnxw" target="_blank" rel="noopener noreferrer">https://webapp.bupt.edu.cn/extensions/wap/news/list.html?p-1&amp;type=xnxw<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 请求</li> <li>找到请求头中的 Cookie</li></ol></li></ul></li> <li><p>discuz cookies 设定</p> <ul><li><code>DISCUZ_COOKIE_{cid}</code>: 某 Discuz 驱动的论坛，用户注册后的 Cookie 值，cid 可自由设定，取值范围 [00, 99], 使用 discuz 通用路由时，通过指定 cid 来调用该 cookie</li></ul></li> <li><p>disqus 全部路由：<a href="https://disqus.com/api/applications/" target="_blank" rel="noopener noreferrer">申请地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><code>DISQUS_API_KEY</code>: Disqus API</li></ul></li> <li><p>E-Hentai</p> <ul><li><code>EH_IPB_MEMBER_ID</code>: E-Hentai 账户登录后 cookie 的 <code>ipb_member_id</code> 值</li> <li><code>EH_IPB_PASS_HASH</code>: E-Hentai 账户登录后 cookie 的 <code>ipb_pass_hash</code> 值</li> <li><code>EH_SK</code>: E-Hentai 账户登录后 cookie 中的<code>sk</code>值</li> <li><code>EH_IGNEOUS</code>: ExHentai 账户登录后 cookie 中的<code>igneous</code>值。若设置此值，RSS 数据将全部从里站获取</li> <li><code>EH_IMG_PROXY</code>: 封面代理访问地址。若设置此值，封面图链接将被替换为以此值开头。使用 ExHentai 时，封面图需要有 Cookie 才能访问，在一些阅读软件上没法显示封面，可以使用此值搭配一个加 Cookie 的代理服务器实现阅读软件无 Cookie 获取封面图。</li></ul></li> <li><p>GitHub 全部路由：<a href="https://github.com/settings/tokens" target="_blank" rel="noopener noreferrer">申请地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><code>GITHUB_ACCESS_TOKEN</code>: GitHub Access Token</li></ul></li> <li><p>Google Fonts：<a href="https://developers.google.com/fonts/docs/developer_api#a_quick_example" target="_blank" rel="noopener noreferrer">申请地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><code>GOOGLE_FONTS_API_KEY</code>: API key</li></ul></li> <li><p>Instagram：</p> <ul><li><code>IG_USERNAME</code>: Instagram 用户名。</li> <li><code>IG_PASSWORD</code>: Instagram 密码。</li> <li><code>IG_PROXY</code>: Instagram 代理 URL。</li></ul> <p>注意，暂<strong>不支持</strong>两步验证。</p></li> <li><p>Last.fm 全部路由：<a href="https://www.last.fm/api/" target="_blank" rel="noopener noreferrer">申请地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><code>LASTFM_API_KEY</code>: Last.fm API Key</li></ul></li> <li><p>Mastodon 用户时间线路由：访问 <code>https://mastodon.example/settings/applications</code> 申请（替换掉 <code>mastodon.example</code>）。需要 <code>read:search</code> 权限</p> <ul><li><code>MASTODON_API_HOST</code>: API 请求的实例</li> <li><code>MASTODON_API_ACCESS_TOKEN</code>: 用户 access token, 申请应用后，在应用配置页可以看到申请者的 access token</li> <li><code>MASTODON_API_ACCT_DOMAIN</code>: 该实例本地用户 acct 标识的域名</li></ul></li> <li><p>MiniFlux 全部路由：</p> <ul><li><code>MINIFLUX_INSTANCE</code>： 用户所用的实例，默认为 MiniFlux 官方提供的 <a href="https://reader.miniflux.app" target="_blank" rel="noopener noreferrer">付费服务地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><code>MINIFLUX_TOKEN</code>: 用户的 API 密钥，请登录所用实例后于 <code>设置</code> -&gt; <code>API 密钥</code> -&gt; <code>创建一个新的 API 密钥</code> 处获取</li></ul></li> <li><p>NGA BBS 用于获取帖子内文</p> <ul><li><code>NGA_PASSPORT_UID</code>: 对应 cookie 中的 <code>ngaPassportUid</code>.</li> <li><code>NGA_PASSPORT_CID</code>: 对应 cookie 中的 <code>ngaPassportCid</code>.</li></ul></li> <li><p>nhentai torrent: <a href="https://nhentai.net/register/" target="_blank" rel="noopener noreferrer">注册地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><code>NHENTAI_USERNAME</code>: nhentai 用户名或邮箱</li> <li><code>NHENTAI_PASSWORD</code>: nhentai 密码</li></ul></li> <li><p>pixiv 全部路由：<a href="https://accounts.pixiv.net/signup" target="_blank" rel="noopener noreferrer">注册地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><code>PIXIV_REFRESHTOKEN</code>: Pixiv Refresh Token, 请参考 <a href="https://gist.github.com/ZipFile/c9ebedb224406f4f11845ab700124362" target="_blank" rel="noopener noreferrer">此文<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 获取，或自行对客户端抓包获取</li> <li><code>PIXIV_BYPASS_CDN</code>: 绕过 Pixiv 前置的 Cloudflare CDN, 使用<code>PIXIV_BYPASS_HOSTNAME</code>指示的 IP 地址访问 Pixiv API, 可以解决因 Cloudflare 机器人验证导致的登录失败问题，默认关闭，设置 true 或 1 开启</li> <li><code>PIXIV_BYPASS_HOSTNAME</code>: Pixiv 源站的主机名或 IP 地址，主机名会被解析为 IPv4 地址，默认为<code>public-api.secure.pixiv.net</code>；仅在<code>PIXIV_BYPASS_CDN</code>开启时生效</li> <li><code>PIXIV_BYPASS_DOH</code>: 用于解析 <code>PIXIV_BYPASS_HOSTNAME</code> 的 DoH 端点 URL，需要兼容 Cloudflare 或 Google 的 DoH 服务的 JSON 查询格式，默认为 <code>https://1.1.1.1/dns-query</code></li> <li><code>PIXIV_IMG_PROXY</code>: 用于图片地址的代理，因为 pixiv 图片有防盗链，默认为 <code>https://i.pixiv.cat</code></li></ul></li> <li><p>pixiv fanbox 用于获取付费内容</p> <ul><li><code>FANBOX_SESSION_ID</code>: 对应 cookies 中的<code>FANBOXSESSID</code>。</li></ul></li> <li><p>Sci-hub 设置，用于科学期刊路由。</p> <ul><li><code>SCIHUB_HOST</code>: 可访问的 sci-hub 镜像地址，默认为 <code>https://sci-hub.se</code>。</li></ul></li> <li><p>spotify 全部路由： <a href="https://developer.spotify.com" target="_blank" rel="noopener noreferrer">注册地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><code>SPOTIFY_CLIENT_ID</code>：Spotify 应用的 client ID</li> <li><code>SPOTIFY_CLIENT_SECRET</code>：Spotify 应用的 client secret</li></ul></li> <li><p>spotify 用户相关路由</p> <ul><li><code>SPOTIFY_REFRESHTOKEN</code>：用户在此 Spotify 应用的 refresh token。可以利用 <a href="https://gist.github.com/outloudvi/d1bbeb5e989db5385384a223a7263744" target="_blank" rel="noopener noreferrer">此 gist<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 获取。</li></ul></li> <li><p>telegram - 贴纸包路由：<a href="https://telegram.org/blog/bot-revolution" target="_blank" rel="noopener noreferrer">Telegram 机器人<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><code>TELEGRAM_TOKEN</code>: Telegram 机器人 token</li></ul></li> <li><p>twitter 全部路由：<a href="https://apps.twitter.com" target="_blank" rel="noopener noreferrer">申请地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><code>TWITTER_CONSUMER_KEY</code>: Twitter Developer API key，支持多个 key，用英文逗号 <code>,</code> 隔开</li> <li><code>TWITTER_CONSUMER_SECRET</code>: Twitter Developer API key secret，支持多个 key，用英文逗号 <code>,</code> 隔开，顺序与 key 对应</li> <li><code>TWITTER_WEBAPI_AUTHORIZAION</code>: Twitter Web API authorization。如果上述两个环境变量中的任意一个未设置，就会使用 Twitter Web API。然而，没有必要设置这个环境变量，因为所有用户和访客共享同一个 authorization token 且已经内置于 RSSHub 之中。</li> <li><code>TWITTER_TOKEN_{handler}</code>: 对应 Twitter 用户名生成的 token，<code>{handler}</code> 替换为用于生成该 token 的 Twitter 用户名，值为 <code>Twitter API key, Twitter API key secret, Access token, Access token secret</code> 用逗号隔开，例如：<code>TWITTER_TOKEN_RSSHub=bX1zry5nG4d1RbESQbnADpVIo,2YrD8qo9sXbB8VlYfVmo1Qtw0xsexnOliU5oZofq7aPIGou0Xx,123456789-hlkUHFYmeXrRcf6SEQciP8rP4lzmRgMgwdqIN9aK,pHcPnfa28rCIKhSICUCiaw9ppuSSl7T2f3dnGYpSM0bod</code></li></ul></li> <li><p>Wordpress</p> <ul><li><p><code>WORDPRESS_CDN</code>: 用于中转 http 图片链接。可供考虑的服务见下表：</p> <table><thead><tr><th>url</th> <th>backbone</th></tr></thead> <tbody><tr><td><a href="https://imageproxy.pimg.tw/resize?url=" target="_blank" rel="noopener noreferrer">https://imageproxy.pimg.tw/resize?url=<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>akamai</td></tr> <tr><td><a href="https://images.weserv.nl/?url=" target="_blank" rel="noopener noreferrer">https://images.weserv.nl/?url=<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>cloudflare</td></tr> <tr><td><a href="https://pic1.xuehuaimg.com/proxy/" target="_blank" rel="noopener noreferrer">https://pic1.xuehuaimg.com/proxy/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>cloudflare</td></tr> <tr><td><a href="https://cors.netnr.workers.dev/" target="_blank" rel="noopener noreferrer">https://cors.netnr.workers.dev/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>cloudflare</td></tr> <tr><td><a href="https://netnr-proxy.openode.io/" target="_blank" rel="noopener noreferrer">https://netnr-proxy.openode.io/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>digitalocean</td></tr></tbody></table></li></ul></li> <li><p>youtube 全部路由：<a href="https://console.developers.google.com/" target="_blank" rel="noopener noreferrer">申请地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><code>YOUTUBE_KEY</code>: YouTube API Key，支持多个 key，用英文逗号 <code>,</code> 隔开</li></ul></li> <li><p>北大未名 BBS 全站十大</p> <ul><li><code>PKUBBS_COOKIE</code>: BBS 注册用户登录后的 Cookie 值，获取方式：
<ol><li>登录后打开论坛首页</li> <li>打开控制台， 刷新</li> <li>找到 <a href="https://bbs.pku.edu.cn/v2/home.php" target="_blank" rel="noopener noreferrer">https://bbs.pku.edu.cn/v2/home.php<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 请求</li> <li>找到请求头中的 Cookie</li></ol></li></ul></li> <li><p>吹牛部落 栏目更新</p> <ul><li><code>CHUINIU_MEMBER</code>: 吹牛部落登录后的 x-member，获取方式
<ol><li>登陆后点开文章正文</li> <li>打开控制台，刷新</li> <li>找到 <a href="http://api.duanshu.com/h5/content/detail/" target="_blank" rel="noopener noreferrer">http://api.duanshu.com/h5/content/detail/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 开头的请求</li> <li>找到请求头中的 x-member</li></ol></li></ul></li> <li><p>滴答清单</p> <ul><li><code>DIDA365_USERNAME</code>: 滴答清单用户名</li> <li><code>DIDA365_PASSWORD</code>: 滴答清单密码</li></ul></li> <li><p>端传媒设置，用于获取付费内容全文：</p> <ul><li><p><code>INITIUM_BEARER_TOKEN</code>: 端传媒 Web 版认证 token。获取方式：登陆后打开端传媒站内任意页面，打开浏览器开发者工具中 “网络”(Network) 选项卡，筛选 URL 找到任一个地址为<code>api.initium.com</code>开头的请求，点击检查其 “消息头”，在 “请求头” 中找到<code>Authorization</code>字段，将其值复制填入配置即可。你的配置应该形如<code>INITIUM_BEARER_TOKEN: 'Bearer eyJxxxx......xx_U8'</code>。使用 token 部署的好处是避免占据登陆设备数的额度，但这个 token 一般有效期为两周，因此只可作临时测试使用。</p></li> <li><p><code>INITIUM_IAP_RECEIPT</code>: 端传媒 iOS 版内购回执认证 token。获取方式：登陆后打开端传媒 iOS app 内任意页面，打开抓包工具，筛选 URL 找到任一个地址为<code>api.initium.com</code>开头的请求，点击检查其 “消息头”，在 “请求头” 中找到<code>X-IAP-Receipt</code>字段，将其值复制填入配置即可。你的配置应该形如<code>INITIUM_IAP_RECEIPT: 'ef81dee9e4e2fe084a0af1ea82da2f7b16e75f756db321618a119fa62b52550e'</code>。</p></li></ul> <p>Web 版认证 token 和 iOS 内购回执认证 token 只需选择其一填入即可。你也可选择直接在环境设置中填写明文的用户名和密码：</p> <ul><li><code>INITIUM_USERNAME</code>: 端传媒用户名 （邮箱）</li> <li><code>INITIUM_PASSWORD</code>: 端传媒密码</li></ul></li> <li><p>豆瓣想看</p> <ul><li><code>DOUBAN_COOKIE</code>: 豆瓣登陆后的 Cookie 值</li></ul></li> <li><p>饭否 全部路由：<a href="https://github.com/FanfouAPI/FanFouAPIDoc/wiki/Oauth" target="_blank" rel="noopener noreferrer">申请地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><code>FANFOU_CONSUMER_KEY</code>: 饭否 Consumer Key</li> <li><code>FANFOU_CONSUMER_SECRET</code>: 饭否 Consumer Secret</li> <li><code>FANFOU_USERNAME</code>: 饭否登录用户名、邮箱、手机号</li> <li><code>FANFOU_PASSWORD</code>: 饭否密码</li></ul></li> <li><p>和风天气：<a href="https://id.qweather.com/#/register?redirect=https%3A%2F%2Fconsole.qweather.com" target="_blank" rel="noopener noreferrer">申请地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><code>HEFENG_KEY</code>:API key</li></ul></li> <li><p>南方周末付费全文</p> <ul><li><code>INFZM_COOKIE</code>: infzm 账户登陆后的 cookie，目前只需要 <code>passport_session=...</code> 即可获取全文</li></ul></li> <li><p>轻小说文库</p> <ul><li><code>WENKU8_COOKIE</code>: 登陆轻小说文库后的 cookie</li></ul></li> <li><p>语雀 全部路由：<a href="https://www.yuque.com/register" target="_blank" rel="noopener noreferrer">注册地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><code>YUQUE_TOKEN</code>: 语雀 Token，<a href="https://www.yuque.com/settings/tokens" target="_blank" rel="noopener noreferrer">获取地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。语雀接口做了访问频率限制，为保证正常访问建议配置 Token，详见 <a href="https://www.yuque.com/yuque/developer/api#5b3a1535" target="_blank" rel="noopener noreferrer">语雀开发者文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li></ul></li> <li><p>邮箱 邮件列表路由：</p> <ul><li><code>EMAIL_CONFIG_{email}</code>: 邮箱设置，替换 <code>{email}</code> 为 邮箱账号，邮件账户的 <code>@</code> 与 <code>.</code> 替换为 <code>_</code>，例如 <code>EMAIL_CONFIG_xxx_qq_com</code>。Linux 内容格式为 <code>password=密码&amp;host=服务器&amp;port=端口</code>，docker 内容格式为 <code>password=密码\&amp;host=服务器\&amp;port=端口</code>，例如：
<ul><li>Linux 环境变量：<code>EMAIL_CONFIG_xxx_qq_com=&quot;password=123456&amp;host=imap.qq.com&amp;port=993&quot;</code></li> <li>docker 环境变量：<code>EMAIL_CONFIG_xxx_qq_com=password=123456\&amp;host=imap.qq.com\&amp;port=993</code>，请勿添加引号 <code>'</code>，<code>&quot;</code>。</li></ul></li></ul></li> <li><p>网易云歌单及听歌排行</p> <ul><li><code>NCM_COOKIES</code>: 网易云音乐登陆后的 cookie 值.</li></ul></li> <li><p>微博 个人时间线路由：<a href="https://open.weibo.com/connect" target="_blank" rel="noopener noreferrer">申请地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><code>WEIBO_APP_KEY</code>: 微博 App Key</li> <li><code>WEIBO_APP_SECRET</code>: 微博 App Secret</li> <li><code>WEIBO_REDIRECT_URL</code>: 微博登录授权回调地址，默认为 <code>RSSHub 地址/weibo/timeline/0</code>，自定义回调地址请确保最后可以转跳到 <code>RSSHub 地址/weibo/timeline/0?code=xxx</code></li></ul></li> <li><p>小宇宙：需要 App 登陆后抓包获取相应数据。</p> <ul><li><code>XIAOYUZHOU_ID</code>: 即数据包中的 <code>x-jike-device-id</code>。</li> <li><code>XIAOYUZHOU_TOKEN</code>: 即数据包中的 <code>x-jike-refresh-token</code>。</li></ul></li> <li><p>新榜</p> <ul><li><code>NEWRANK_COOKIE</code>: 登陆后的 COOKIE 值，其中 token 是必要的，其他可删除</li></ul></li> <li><p>喜马拉雅</p> <ul><li><code>XIMALAYA_TOKEN</code>: 对应 cookie 中的 <code>1&amp;_token</code>，获取方式：
<ol><li>登陆喜马拉雅网页版</li> <li>打开控制台，刷新</li> <li>查找名称为<code>1&amp;_token</code>的<code>cookie</code>，其内容即为<code>XIMALAYA_TOKEN</code>的值（即在<code>cookie</code> 中查找 <code>1&amp;_token=***;</code>，并设置 <code>XIMALAYA_TOKEN = ***</code>）</li></ol></li></ul></li> <li><p>知乎用户关注时间线</p> <ul><li><code>ZHIHU_COOKIES</code>: 知乎登录后的 cookie 值.
<ol><li>可以在知乎网页版的一些请求的请求头中找到，如 <code>GET /moments</code> 请求头中的 <code>cookie</code> 值.</li></ol></li></ul></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/DIYgod/RSSHub/edit/master/docs/install/README.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/5/1 13:00:29</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.ec4b3f48.js" defer></script><script src="/assets/js/5.f8401782.js" defer></script><script src="/assets/js/4.9883d7c2.js" defer></script><script src="/assets/js/58.f42c6e90.js" defer></script><script src="/assets/js/6.2f8e5434.js" defer></script>
  </body>
</html>
